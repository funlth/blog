{#{% extends "base.html" %}#}
{#{% load account %}#}
{#{% load account socialaccount %}#}
{##}
{#{% load i18n %}#}
{##}
{#{% block head_title %}{% trans "Change Password" %}{% endblock %}#}
{##}
{#{% block content %}#}
{#    <h1>{% trans "Change Password" %}</h1>#}
{##}
{#    <form method="POST" action="{% url 'account_change_password' %}" class="password_change">#}
{#        {% csrf_token %}#}
{#        {{ form.as_p }}#}
{#        <button type="submit" name="action">{% trans "Change Password" %}</button>#}
{#        <a href="{% url 'account_reset_password' %}">{% trans "Forgot Password?" %}</a>#}
{#    </form>#}
{##}
{##}
{#    <style>#}
{#        footer {#}
{#            position: fixed;#}
{#            bottom: 0;#}
{#            width: 100%;#}
{#        }#}
{#    </style>#}
{##}
{#{% endblock %}#}

{#{% extends "base.html" %}#}
{#{% load account %}#}
{#{% load account socialaccount %}#}
{##}
{#{% load i18n %}#}
{##}
{#{% block head_title %}{% trans "Change Password" %}{% endblock %}#}
{##}
{#{% block content %}#}
{#    <div class="container mt-5">#}
{#        <h1 class="text-center mb-4">{% trans "Change Password" %}</h1>#}
{##}
{#        <form method="POST" action="{% url 'account_change_password' %}" class="password_change">#}
{#            {% csrf_token %}#}
{#            {% for field in form %}#}
{#                <div class="form-group">#}
{#                    {{ field.label_tag }}#}
{#                    {{ field }}#}
{#                    {% if field.help_text %}#}
{#                        <small class="form-text text-muted">{{ field.help_text }}</small>#}
{#                    {% endif %}#}
{#                </div>#}
{#            {% endfor %}#}
{#            <button type="submit" name="action" class="btn btn-primary btn-block my-3">{% trans "Change Password" %}</button>#}
{#        </form>#}
{##}
{#        <!-- add message when password changed successfully -->#}
{#        {% if messages %}#}
{#            {% for message in messages %}#}
{#                {% if message.tags == 'success' %}#}
{#                    <div class="alert alert-success alert-dismissible fade show" role="alert">#}
{#                        {{ message }}#}
{#                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">#}
{#                            <span aria-hidden="true">&times;</span>#}
{#                        </button>#}
{#                    </div>#}
{#                    <!-- Redirect to home page after password change -->#}
{#                    <script>#}
{#                        setTimeout(function(){#}
{#                            window.location.href = "{% url 'home' %}";#}
{#                        }, 3000);#}
{#                    </script>#}
{#                {% endif %}#}
{#            {% endfor %}#}
{#        {% endif %}#}
{#    </div>#}
{##}
{#     <style>#}
{#        footer {#}
{#            position: fixed;#}
{#            bottom: 0;#}
{#            width: 100%;#}
{#        }#}
{#    </style>#}
{##}
{#{% endblock %}#}




{% extends "base.html" %}
{% load account %}
{#{% load account socialaccount %}#}

{% load i18n %}

{% block head_title %}{% trans "Change Password" %}{% endblock %}

{% block content %}
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-6 mx-auto">
                <div class="card">
                    <div class="card-header">
                        <h1 class="text-center mb-4">{% trans "Change Password" %}</h1>
                    </div>
                    <div class="card-body">
                        <form method="POST" action="{% url 'account_change_password' %}" class="password_change">
                            {% csrf_token %}
                            {% for field in form %}
                                <div class="form-group">
                                    {{ field.label_tag }}
                                    {{ field }}
                                    {% if field.help_text %}
                                        <small class="form-text text-muted">{{ field.help_text }}</small>
                                    {% endif %}
                                </div>
                            {% endfor %}
                            <button type="submit" name="action" class="btn btn-primary btn-block my-3" onclick="goToMainPage()">{% trans "Change Password" %}</button>
                        </form>
                        <!-- add message when password changed successfully -->
                        {% if messages %}
                            {% for message in messages %}
                                {% if message.tags == 'success' %}
                                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                                        {{ message }}
                                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                {% endif %}
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>

<script>
function goToMainPage() {
  setTimeout(function() {
    window.location.href = "http://127.0.0.1:8000/";
  }, 3000); // 在此设置延迟时间，单位为毫秒
    alert("三秒后将跳转至主页面！");
}
</script>

         <style>
        footer {
            position: fixed;
            bottom: 0;
            width: 100%;
        }

         .form-group {
  margin-bottom: 20px;
}

.form-group label {
  display: block;
  margin-bottom: 5px;
  font-weight: 600;
}

.form-group input,
.form-group select {
  display: block;
  width: 100%;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 16px;
  line-height: 1.4;
  color: #555;
}

.form-group small {
  display: block;
  margin-top: 5px;
  color: #999;
}

    </style>

{% endblock %}
